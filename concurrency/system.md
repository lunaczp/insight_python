# 分布式容错系统

---
**服务需要满足的需求**

 1. 并发
 2. 软实时
 3. 分布式
 4. 持续运行
 5. 容错


并发同时应对多多件事情的能力，并行同时处理多见事情的能力

硬实时与软实时之间最关键的差别在于，软实时只能提供统计意义上的实时。例如，有的应用要求系统在95%的情况下都会确保在规定的时间内完成某个动作，而不一定要求100%

分布式  性能  可靠性  可扩展性

持续运行 动态热升级

容错 一个模块崩溃，其他的模块还能正常运行，不影响整个系统

怎么才能够构建出在软件存在错误的时候具有合理行为的可容错的软 件系统？

1. 将软件组织成一个系统要完成的任务的层次结构,每一个任务对应 于一组目标,具有给定任务的软件必须尝试去完成和该任务相关的目标。
2. 任务按照复杂性排序。最顶层的任务最复杂。如果最顶层任务 完的目标都被完成,那么整个系统就运转正常。较低层次的任务应当能 够保持系统以一种可接受的方式运转,即使系统所提供的服务有所折扣。系统中低层任务较高层任务更容易完成其目标。
3. 我们将尽力完成顶层的任务 。
4. 当在完成某一目标的过程中检测到了一个错误,我们将尝试纠正这个错误。当我们不能够纠正该错误的时候,我们将立即取消当前的任务而启动一个更简单一些的任务。


故障隔离——没有共享数据的并发进程提供了一种强大的故障隔离方法。一个并发进程的软件错误不会影响到系统中其他进程的运行。

在构建可容错软件系统的过程中要解决的质问题就是故障隔离。不同的程序员会编写不同的模块,有的模块正确,有的存在错误。我们不希望有错误的模块对没有错误的模块产生任何不利的影响。


修复手段

重启

如何重启 -- 控制重启粒度


操作系统的基础设施

进程

线程

锁

Go

提供了轻量级进程

调度的方式

调度会可能造成调度不公平

容错设施不够完全

不能满足 软实时，持续运行, 容错, 分布式

Erlang
